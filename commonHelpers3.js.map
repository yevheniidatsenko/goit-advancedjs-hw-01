{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst form = document.querySelector('.feedback-form');\nconst emailInput = form.querySelector('input[name=\"email\"]');\nconst messageInput = form.querySelector('textarea[name=\"message\"]');\n\nemailInput.addEventListener('input', throttle(updateFormState, 500));\nmessageInput.addEventListener('input', throttle(updateFormState, 500));\n\nform.addEventListener('submit', handleFormSubmit);\n\nconst savedState = localStorage.getItem('feedback-form-state');\nif (savedState) {\n  const state = JSON.parse(savedState);\n  emailInput.value = state.email;\n  messageInput.value = state.message;\n}\n\nfunction updateFormState(event) {\n  const email = emailInput.value;\n  const message = messageInput.value;\n  localStorage.setItem(\n    'feedback-form-state',\n    JSON.stringify({ email, message })\n  );\n}\n\nfunction handleFormSubmit(event) {\n  event.preventDefault();\n  const email = emailInput.value;\n  const message = messageInput.value;\n  if (!email) {\n    return;\n  }\n  console.log({ email, message });\n  localStorage.removeItem('feedback-form-state');\n  emailInput.value = '';\n  messageInput.value = '';\n}\n"],"names":["form","emailInput","messageInput","throttle","updateFormState","handleFormSubmit","savedState","state","event","email","message"],"mappings":"wIAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAaD,EAAK,cAAc,qBAAqB,EACrDE,EAAeF,EAAK,cAAc,0BAA0B,EAElEC,EAAW,iBAAiB,QAASE,EAASC,EAAiB,GAAG,CAAC,EACnEF,EAAa,iBAAiB,QAASC,EAASC,EAAiB,GAAG,CAAC,EAErEJ,EAAK,iBAAiB,SAAUK,CAAgB,EAEhD,MAAMC,EAAa,aAAa,QAAQ,qBAAqB,EAC7D,GAAIA,EAAY,CACd,MAAMC,EAAQ,KAAK,MAAMD,CAAU,EACnCL,EAAW,MAAQM,EAAM,MACzBL,EAAa,MAAQK,EAAM,OAC7B,CAEA,SAASH,EAAgBI,EAAO,CAC9B,MAAMC,EAAQR,EAAW,MACnBS,EAAUR,EAAa,MAC7B,aAAa,QACX,sBACA,KAAK,UAAU,CAAE,MAAAO,EAAO,QAAAC,CAAO,CAAE,CACrC,CACA,CAEA,SAASL,EAAiBG,EAAO,CAC/BA,EAAM,eAAc,EACpB,MAAMC,EAAQR,EAAW,MACnBS,EAAUR,EAAa,MACxBO,IAGL,QAAQ,IAAI,CAAE,MAAAA,EAAO,QAAAC,CAAS,CAAA,EAC9B,aAAa,WAAW,qBAAqB,EAC7CT,EAAW,MAAQ,GACnBC,EAAa,MAAQ,GACvB"}